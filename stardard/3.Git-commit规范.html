<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Git Commit 规范 | CheckLu's Blog</title><meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/style-a9f00306.css" as="style"><link rel="stylesheet" href="/assets/style-a9f00306.css">
    <link rel="modulepreload" href="/assets/app-43ae11cc.js"><link rel="modulepreload" href="/assets/3.Git-commit规范.html-3fe51a01.js"><link rel="modulepreload" href="/assets/3.Git-commit规范.html-37bc143b.js"><link rel="prefetch" href="/assets/index.html-550e7132.js" as="script"><link rel="prefetch" href="/assets/1.冒泡排序.html-a1b72b20.js" as="script"><link rel="prefetch" href="/assets/10.桶排序.html-8cab49c1.js" as="script"><link rel="prefetch" href="/assets/2.插入排序.html-7035dd60.js" as="script"><link rel="prefetch" href="/assets/3.选择排序.html-595114ec.js" as="script"><link rel="prefetch" href="/assets/4.希尔排序.html-530d4a5b.js" as="script"><link rel="prefetch" href="/assets/5.快速排序.html-1a680691.js" as="script"><link rel="prefetch" href="/assets/6.归并排序.html-f2b2b6e4.js" as="script"><link rel="prefetch" href="/assets/7.堆排序.html-db0695a3.js" as="script"><link rel="prefetch" href="/assets/8.计数排序.html-69ff048e.js" as="script"><link rel="prefetch" href="/assets/9.基数排序.html-6b842d45.js" as="script"><link rel="prefetch" href="/assets/1.Lint规范和配置.html-da3e1a66.js" as="script"><link rel="prefetch" href="/assets/2.Prettier规范和配置.html-8bb0bb5e.js" as="script"><link rel="prefetch" href="/assets/4.GitFlow规范.html-201d4762.js" as="script"><link rel="prefetch" href="/assets/1.Git常用.html-82ef63ab.js" as="script"><link rel="prefetch" href="/assets/2.Npm包管理工具.html-e3d87ac4.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-11b150ea.js" as="script"><link rel="prefetch" href="/assets/1.冒泡排序.html-ddfbe3cf.js" as="script"><link rel="prefetch" href="/assets/10.桶排序.html-b6b46a42.js" as="script"><link rel="prefetch" href="/assets/2.插入排序.html-9ec0a522.js" as="script"><link rel="prefetch" href="/assets/3.选择排序.html-e82dd9a0.js" as="script"><link rel="prefetch" href="/assets/4.希尔排序.html-53a95eab.js" as="script"><link rel="prefetch" href="/assets/5.快速排序.html-43029a96.js" as="script"><link rel="prefetch" href="/assets/6.归并排序.html-8b8fda08.js" as="script"><link rel="prefetch" href="/assets/7.堆排序.html-5d99f4a2.js" as="script"><link rel="prefetch" href="/assets/8.计数排序.html-b19f5f3f.js" as="script"><link rel="prefetch" href="/assets/9.基数排序.html-0ca72a63.js" as="script"><link rel="prefetch" href="/assets/1.Lint规范和配置.html-25250be1.js" as="script"><link rel="prefetch" href="/assets/2.Prettier规范和配置.html-7e39d7a8.js" as="script"><link rel="prefetch" href="/assets/4.GitFlow规范.html-a8355b69.js" as="script"><link rel="prefetch" href="/assets/1.Git常用.html-f956e812.js" as="script"><link rel="prefetch" href="/assets/2.Npm包管理工具.html-44a96db6.js" as="script"><link rel="prefetch" href="/assets/404.html-482410e2.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/notebook.svg" alt="CheckLu&#39;s Blog"><span class="site-name can-hide">CheckLu&#39;s Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/stardard/1.Lint规范和配置.md" class="" aria-label="前端规范"><!--[--><!--]--> 前端规范 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/work_note/1.Git常用.md" class="" aria-label="常用笔记"><!--[--><!--]--> 常用笔记 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/sorting_algorithm/1.冒泡排序.md" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="路的博客"><span class="title">路的博客</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="路的博客"><span class="title">路的博客</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Check-121" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://juejin.cn/" rel="noopener noreferrer" target="_blank" aria-label="掘金"><!--[--><!--]--> 掘金 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/stardard/1.Lint规范和配置.md" class="" aria-label="前端规范"><!--[--><!--]--> 前端规范 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/work_note/1.Git常用.md" class="" aria-label="常用笔记"><!--[--><!--]--> 常用笔记 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/sorting_algorithm/1.冒泡排序.md" class="" aria-label="排序算法"><!--[--><!--]--> 排序算法 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="路的博客"><span class="title">路的博客</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="路的博客"><span class="title">路的博客</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/Check-121" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://juejin.cn/" rel="noopener noreferrer" target="_blank" aria-label="掘金"><!--[--><!--]--> 掘金 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/stardard/1.Lint%E8%A7%84%E8%8C%83%E5%92%8C%E9%85%8D%E7%BD%AE.html" class="sidebar-item sidebar-heading" aria-label="Lint规范和配置"><!--[--><!--]--> Lint规范和配置 <!--[--><!--]--></a><!----></li><li><a href="/stardard/2.Prettier%E8%A7%84%E8%8C%83%E5%92%8C%E9%85%8D%E7%BD%AE.html" class="sidebar-item sidebar-heading" aria-label="Prettier 规范和配置"><!--[--><!--]--> Prettier 规范和配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Git Commit 规范"><!--[--><!--]--> Git Commit 规范 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#用什么规范" class="router-link-active router-link-exact-active sidebar-item" aria-label="用什么规范？"><!--[--><!--]--> 用什么规范？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#quick-start" class="router-link-active router-link-exact-active sidebar-item" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_1-全局安装-commitizen-cz-conventional-changelog" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 全局安装 commitizen &amp; cz-conventional-changelog"><!--[--><!--]--> 1. 全局安装 commitizen &amp; cz-conventional-changelog <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_2-项目内安装-commitlint-husky" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. 项目内安装 commitlint &amp; husky"><!--[--><!--]--> 2. 项目内安装 commitlint &amp; husky <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_3-添加相应配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. 添加相应配置"><!--[--><!--]--> 3. 添加相应配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_4-使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 使用"><!--[--><!--]--> 4. 使用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#commit-message-规范在-bdw-项目落地使用情况" class="router-link-active router-link-exact-active sidebar-item" aria-label="Commit message 规范在 bdw 项目落地使用情况"><!--[--><!--]--> Commit message 规范在 bdw 项目落地使用情况 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_1-type" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. type"><!--[--><!--]--> 1. type <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_2-scope" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. scope"><!--[--><!--]--> 2. scope <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_3-subject" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. subject"><!--[--><!--]--> 3. subject <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_4-body" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. body"><!--[--><!--]--> 4. body <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_5-break-changes" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. break changes"><!--[--><!--]--> 5. break changes <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#_6-affect-issues" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. affect issues"><!--[--><!--]--> 6. affect issues <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#示例" class="router-link-active router-link-exact-active sidebar-item" aria-label="示例"><!--[--><!--]--> 示例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/stardard/3.Git-commit%E8%A7%84%E8%8C%83.html#扩展阅读" class="router-link-active router-link-exact-active sidebar-item" aria-label="扩展阅读"><!--[--><!--]--> 扩展阅读 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/stardard/4.GitFlow%E8%A7%84%E8%8C%83.html" class="sidebar-item sidebar-heading" aria-label="GitFlow 规范"><!--[--><!--]--> GitFlow 规范 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><p><strong>来源</strong>：</p><blockquote><p><a href="https://link.zhihu.com/?target=http%3A//juejin.im/post/5d0b3f8c6fb9a07ec07fc5d0" target="_blank" rel="noopener noreferrer">https://link.zhihu.com/?target=http%3A//juejin.im/post/5d0b3f8c6fb9a07ec07fc5d0<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>git 是现在市面上最流行的版本控制工具，书写良好的 commit message 能大大提高代码维护的效率。但是在日常开发中由于缺少对 commit message 的约束，导致填写内容随意、质量参差不齐，可读性低亦难以维护。</p><h2 id="用什么规范" tabindex="-1"><a class="header-anchor" href="#用什么规范" aria-hidden="true">#</a> <strong>用什么规范？</strong></h2><p>现在市面上比较流行的方案是<code>约定式提交规范</code>（<code>Conventional Commits</code>），它受到了<code>Angular提交准则</code>的启发，并在很大程度上以其为依据。<code>约定式提交规范</code>是一种基于提交消息的轻量级约定。</p><p>它提供了一组用于创建清晰的提交历史的简单规则；这使得编写基于规范的自动化工具变得更容易。这个约定与<code>SemVer</code>相吻合，在提交信息中描述新特性、bug 修复和破坏性变更。它的 message 格式如下:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;类型&gt;[可选的作用域]: &lt;描述&gt;

[可选的正文]

[可选的脚注]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="quick-start" tabindex="-1"><a class="header-anchor" href="#quick-start" aria-hidden="true">#</a> <strong>Quick Start</strong></h2><h3 id="_1-全局安装-commitizen-cz-conventional-changelog" tabindex="-1"><a class="header-anchor" href="#_1-全局安装-commitizen-cz-conventional-changelog" aria-hidden="true">#</a> 1. 全局安装 commitizen &amp; cz-conventional-changelog</h3><p><code>commitizen</code>是一个撰写合格<code>commit message</code>的工具，用于代替<code>git commit</code> 指令，而<code>cz-conventional-changelog</code>适配器提供 conventional-changelog 标准（约定式提交标准）。基于不同需求，也可以使用不同适配器。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> commitizen cz-conventional-changelog
<span class="token builtin class-name">echo</span> <span class="token string">&#39;{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }&#39;</span> <span class="token operator">&gt;</span> ~/.czrc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装完毕后，可直接使用<code>git cz</code>来取代<code>git commit</code>。 任何<code>git commit</code>指令的<code>option</code>都能用在 <code>git cz</code>指令上, 例如<code>git cz -a</code></p><p>全局模式下，需要 <code>~/.czrc</code> 配置文件, 为<code>commitizen</code>指定<code>Adapter</code>。</p><h3 id="_2-项目内安装-commitlint-husky" tabindex="-1"><a class="header-anchor" href="#_2-项目内安装-commitlint-husky" aria-hidden="true">#</a> 2. 项目内安装 commitlint &amp; husky</h3><p><code>commitlint</code>负责用于对<code>commit message</code>进行格式校验，<code>husky</code>负责提供更易用的<code>git hook</code>。 <code>Use npm</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> husky @commitlint/config-conventional @commitlint/cli
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>Use yarn</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> husky @commitlint/config-conventional @commitlint/cli <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>commitlint</code>只能做格式规范，无法触及内容。对于内容质量的把控只能靠我们自己。</p><h3 id="_3-添加相应配置" tabindex="-1"><a class="header-anchor" href="#_3-添加相应配置" aria-hidden="true">#</a> 3. 添加相应配置</h3><p>创建<code>commitlint.config.js</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># In the same path as package.json</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;module.exports = {extends: [&quot;@commitlint/config-conventional&quot;]};&#39;</span> <span class="token operator">&gt;</span> ./commitlint.config.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>引入<code>husky</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># yarn</span>
<span class="token function">yarn</span> husky <span class="token function">add</span> .husky/commit-msg <span class="token string">&#39;yarn commitlint --edit $1&#39;</span>
<span class="token comment"># npm</span>
npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">&#39;npx --no-install commitlint --edit &quot;$1&quot;&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-使用" tabindex="-1"><a class="header-anchor" href="#_4-使用" aria-hidden="true">#</a> 4. 使用</h3><p>执行<code>git cz</code>进入 interactive 模式，根据提示依次填写</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">1</span>.Select the <span class="token builtin class-name">type</span> of change that you&#39;re committing 选择改动类型 <span class="token punctuation">(</span><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token number">2</span>.What is the scope of this change <span class="token punctuation">(</span>e.g. component or <span class="token function">file</span> name<span class="token punctuation">)</span>? 填写改动范围 <span class="token punctuation">(</span><span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token number">3</span>.Write a short, imperative tense description of the change: 写一个精简的描述 <span class="token punctuation">(</span><span class="token operator">&lt;</span>subject<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token number">4</span>.Provide a longer description of the change: <span class="token punctuation">(</span>press enter to skip<span class="token punctuation">)</span> 对于改动写一段长描述 <span class="token punctuation">(</span><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token number">5</span>.Are there any breaking changes? <span class="token punctuation">(</span>y/n<span class="token punctuation">)</span> 是破坏性修改吗？默认n <span class="token punctuation">(</span><span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token number">6</span>.Does this change affect any openreve issues? <span class="token punctuation">(</span>y/n<span class="token punctuation">)</span> 改动修复了哪个问题？默认n <span class="token punctuation">(</span><span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>生成的 commit message 格式如下：</p><div class="language-plain line-numbers-mode" data-ext="plain"><pre class="language-plain"><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>填写完毕后，<code>husky</code>会调用<code>commitlint</code>对 message 进行格式校验，默认规定<code>type</code>及<code>subject</code>为必填项。</p><h2 id="commit-message-规范在-bdw-项目落地使用情况" tabindex="-1"><a class="header-anchor" href="#commit-message-规范在-bdw-项目落地使用情况" aria-hidden="true">#</a> <strong>Commit message 规范在 bdw 项目落地使用情况</strong></h2><p>针对团队目前的情况，我们讨论后拟定了<code>commit message</code>每一部分的填写规则。</p><h3 id="_1-type" tabindex="-1"><a class="header-anchor" href="#_1-type" aria-hidden="true">#</a> 1. type</h3><p><code>type</code>为必填项，用于指定 commit 的类型，约定了<code>feat</code>、<code>fix</code>两个<code>主要type</code>，以及 docs、style、build、refactor、revert 五个<code>特殊type</code>，<code>其余type</code>暂不使用。</p><div class="language-plain line-numbers-mode" data-ext="plain"><pre class="language-plain"><code># 主要type
feat:     增加新功能
fix:      修复bug
# 特殊type
docs:     只改动了文档相关的内容
style:    不影响代码含义的改动，例如去掉空格、改变缩进、增删分号
build:    构造工具的或者外部依赖的改动，例如webpack，npm
refactor: 代码重构时使用
revert:   执行git revert打印的message
# 其它type
test:     添加测试或者修改现有测试
perf:     提高性能的改动
ci:       与CI（持续集成服务）有关的改动
chore:    不修改src或者test的其余修改，例如构建过程或辅助工具的变动
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当一次改动包括<code>主要type</code>与<code>特殊type</code>时，统一采用<code>主要type</code>。</p><h3 id="_2-scope" tabindex="-1"><a class="header-anchor" href="#_2-scope" aria-hidden="true">#</a> 2. scope</h3><p><code>scope</code>也为必填项，用于描述改动的范围，格式为项目名/模块名，例如： <code>node-pc/common</code> <code>rrd-h5/activity</code>，而<code>we-sdk</code>不需指定模块名。如果一次 commit 修改多个模块，建议拆分成多次 commit，以便更好追踪和维护。</p><h3 id="_3-subject" tabindex="-1"><a class="header-anchor" href="#_3-subject" aria-hidden="true">#</a> 3. subject</h3><p>是 commit 目的的简短描述，不超过 50 个字符。</p><div class="language-git line-numbers-mode" data-ext="git"><pre class="language-git"><code>以动词开头，使用第一人称现在时，比如change，而不是changed或changes
第一个字母小写
结尾不加句号（.）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-body" tabindex="-1"><a class="header-anchor" href="#_4-body" aria-hidden="true">#</a> 4. body</h3><p><code>body</code>填写详细描述，主要描述<code>改动之前的情况</code>及<code>修改动机</code>，对于小的修改不作要求，但是重大需求、更新等必须添加 body 来作说明。</p><h3 id="_5-break-changes" tabindex="-1"><a class="header-anchor" href="#_5-break-changes" aria-hidden="true">#</a> 5. break changes</h3><p><code>break changes</code>指明是否产生了破坏性修改，涉及 break changes 的改动必须指明该项，类似版本升级、接口参数减少、接口删除、迁移等。</p><h3 id="_6-affect-issues" tabindex="-1"><a class="header-anchor" href="#_6-affect-issues" aria-hidden="true">#</a> 6. affect issues</h3><p><code>affect issues</code>指明是否影响了某个问题。例如我们使用 jira 时，我们在<code>commit message</code>中可以填写其影响的<code>JIRA_ID</code>，若要开启该功能需要先打通<code>jira</code>与<code>gitlab</code>。</p><p>参考文档：</p><blockquote><p><a href="https://docs.gitlab.com/ee/user/project/integrations/jira.html" target="_blank" rel="noopener noreferrer">https://docs.gitlab.com/ee/user/project/integrations/jira.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p>填写方式例如：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>re #JIRA_ID
fix #JIRA_ID
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> <strong>示例</strong></h2><p>完整的 commit message 示例</p><p><img src="/assets/git-commit-1-8be8478a.jpeg" alt=""></p><p>相应的 git log</p><p><img src="/assets/git-commit-2-66413e70.jpeg" alt=""></p><h2 id="扩展阅读" tabindex="-1"><a class="header-anchor" href="#扩展阅读" aria-hidden="true">#</a> 扩展阅读</h2><p><strong>1、</strong><a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_blank" rel="noopener noreferrer"><strong>conventional commits</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <code>必读</code> 介绍约定式提交标准。</p><p><strong>2、<a href="https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#-commit-message-guidelines" target="_blank" rel="noopener noreferrer">Angular 规范<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong> <code>必读</code> 介绍 Angular 标准每个部分该写什么、该怎么写。</p><p><strong>3、<a href="https://github.com/conventional-changelog/commitlint/tree/master/%40commitlint/config-conventional#type-enum" target="_blank" rel="noopener noreferrer">@commitlint/config-conventional <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong> <code>必读</code> 介绍 commitlint 的校验规则 config-conventional，以及一些常见 passes/fails 情况。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: chen_7747@163.com">lschen</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/stardard/2.Prettier%E8%A7%84%E8%8C%83%E5%92%8C%E9%85%8D%E7%BD%AE.html" class="" aria-label="Prettier 规范和配置"><!--[--><!--]--> Prettier 规范和配置 <!--[--><!--]--></a></span><span class="next"><a href="/stardard/4.GitFlow%E8%A7%84%E8%8C%83.html" class="" aria-label="GitFlow 规范"><!--[--><!--]--> GitFlow 规范 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-43ae11cc.js" defer></script>
  </body>
</html>
