---
title: "Npm包"
date: 2023-06-29
tag:
    - npm
categories:
    - npm cnpm pnpm yarn
    #  I II III IV V VI VII VIII IX X
---

## 常用包管理工具

### npm 全局及镜像

```shell
# 初始化
npm init
npm init --yes
npm init -y

# 查看版本
npm -v
npm version

# 淘宝镜像
npm config set registry https://registry.npm.taobao.org
# 官方镜像源
npm config set registry https://registry.npmjs.org/
# 查看当前镜像源
npm config get registry


# 查看npm配置
npm config list
# 查看当前目录下已安装的 node 包, -g查看全局
npm list
npm list -g

# 清除缓存
npm cache clean --force

# 升级npm版本
npm install npm@latest -g #（@latest表示最新的版本）

# 安装/卸载依赖
npm install #简写 npm i
npm uninstall #卸载依赖
npm update #更新依赖

npm install webpack@^1.0.0 --save-dev

-g： #--global 的缩写，表示安装到全局目录里
-S： #--save 的缩写，表示安装的包将写入package.json里面的dependencies生产依赖
-D： #--save-dev 的缩写，表示将安装的包将写入packege.json里面的devDependencies开发依赖
 i： #install的缩写，表示安装
```

### nvm 的安装与使用

```shell
#安装nvm：
1. 先查看当前版本node -v
2. 全局下载 n npm install -g n # mac如果权限不够可以使用sudo npm install -g n

nvm命令：
nvm install stable ## 安装最新稳定版 node
nvm install <version> ## 安装指定版本
nvm uninstall <version> ## 删除已安装的指定版本
nvm use <version> ## 切换使用指定的版本node
nvm ls ## 列出所有安装的版本
nvm ls-remote ## 列出所有远程服务器的版本
nvm current ## 显示当前的版本
nvm alias <name> <version> ## 给不同的版本号添加别名
nvm unalias <name> ## 删除已定义的别名
nvm reinstall-packages <version> ## 在当前版本 node 环境下，重新 全局安装指定版本号的 npm 包
nvm alias default [node版本号] ##设置默认版本

```

### yarn 常用

Yarn 的三个特点

1. 速度快: Yarn 缓存了每个下载过的包，再次使用时无需重复下载。同时它是并行的，因此安装速度更快
2. 安全: 在执行代码之前，Yarn 会通过算法校验每个安装包的完整性。
3. 可靠: 使用详细、简洁的锁文件格式和明确的安装算法，使 Yarn 能够在不同系统上保证无差异的工作。

```shell
yarn add # 添加依赖
yarn add [package] --dev # 安装开发依赖
yarn global add [package] # 安装全局依赖

yarn install # 安装项目中所有依赖项
yarn upgrade # 升级依赖包， --latest 升级最新
yarn remove <packageName> # 删除依赖

yarn version # 查看版本 yarn -v
yarn list # 列出安装的依赖
yarn pack # 创建依赖项的压缩gzip
yarn policies # 规定整个项目中执行Yarn的版本
yarn publish # 将依赖发布到npm注册表

# 缓存
yarn cache
yarn cache list # 列出已缓存的每个包
yarn cache dir # 返回 全局缓存位置
yarn cache clean # 清除缓存 --force
```
